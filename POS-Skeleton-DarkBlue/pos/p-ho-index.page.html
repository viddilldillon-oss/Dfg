<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Supa Dillie-Cious POS</title>
  <meta name="theme-color" content="#0a192f" />
  <style>
    :root{
      --blue-900:#0a192f;
      --blue-800:#112240;
      --blue-700:#1a365d;
      --blue-600:#2d5a87;
      --teal:#00bfff;
      --text:#e6f1ff;
      --ok:#17c964; --warn:#ffb347; --danger:#ff5c5c;
      --radius:18px; --shadow:0 10px 24px rgba(0,0,0,.35);
      
      /* Jamaican Brand Colors */
      --gold:#ffcc00;
      --black:#000000;
      --green:#228B22;
      --blue:#FF6B35;
      --white:#ffffff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);background:linear-gradient(180deg,var(--blue-900),var(--blue-800)) fixed;transition:all 0.6s ease}
    
    /* ðŸŸ¢ SALES MODE - Bright, energetic, clean */
    .mode-sales {
      background: linear-gradient(135deg, var(--blue-800) 0%, var(--blue-900) 100%) !important;
      color: var(--text) !important;
    }
    .mode-sales header {
      background: linear-gradient(180deg, rgba(0,191,255,0.2), rgba(0,191,255,0.1));
      color: var(--text);
      border-bottom: 1px solid var(--teal);
    }
    .mode-sales .title {
      color: var(--teal) !important;
      text-shadow: 0 0 10px rgba(0,191,255,0.5);
    }
    .mode-sales section {
      background: var(--blue-800);
      border: 2px solid var(--teal);
      box-shadow: 0 8px 32px rgba(0,191,255,0.3);
    }
    .mode-sales .card-h {
      background: rgba(0,191,255,0.2);
      color: var(--text);
    }
    .mode-sales .card-h h2 {
      background: rgba(0,191,255,0.3);
      color: var(--teal);
    }
    .mode-sales .product {
      background: var(--blue-800);
      border: 1px solid rgba(0,191,255,0.5);
      transform: scale(1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .mode-sales .product:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,191,255,0.4);
      border-color: var(--teal);
    }
    .mode-sales .btn {
      background: var(--teal);
      color: var(--blue-900);
      font-weight: 800;
    }
    .mode-sales .btn.ghost {
      background: rgba(0,191,255,0.2);
      color: var(--teal);
      border: 1px solid var(--teal);
    }
    .mode-sales .btn.ghost:hover {
      background: var(--teal);
      color: var(--blue-900);
      transform: translateY(-2px);
      box-shadow: 0 0 15px rgba(0,191,255,0.5);
    }
    
    /* ðŸ’° CHECKOUT MODE - Calm, secure, glassy */
    .mode-checkout {
      background: linear-gradient(135deg, var(--blue-900) 0%, rgba(10,25,47,0.95) 100%) !important;
      color: var(--text) !important;
    }
    .mode-checkout header {
      background: linear-gradient(180deg, rgba(17,34,64,0.8), rgba(17,34,64,0.6));
      backdrop-filter: blur(15px);
      border-bottom: 2px solid var(--gold);
    }
    .mode-checkout .title {
      color: var(--gold) !important;
      text-shadow: 0 0 10px rgba(255,204,0,0.5);
    }
    .mode-checkout section {
      background: rgba(17,34,64,0.7);
      border: 1px solid rgba(255,204,0,0.5);
      backdrop-filter: blur(10px);
      box-shadow: 0 0 30px rgba(255,204,0,0.2);
    }
    .mode-checkout .card-h {
      background: rgba(255,204,0,0.1);
      border-bottom: 1px solid rgba(255,204,0,0.3);
    }
    .mode-checkout .card-h h2 {
      background: rgba(0,191,255,0.2);
      color: var(--teal);
      text-shadow: 0 0 5px rgba(0,191,255,0.3);
    }
    .mode-checkout .product {
      background: rgba(255,204,0,0.05);
      border: 1px solid rgba(255,204,0,0.3);
      transition: all 0.3s ease;
    }
    .mode-checkout .product:hover {
      background: rgba(255,204,0,0.1);
      box-shadow: 0 0 15px rgba(255,204,0,0.2);
    }
    .mode-checkout .btn {
      background: transparent;
      border: 1px solid var(--gold);
      color: var(--gold);
      transition: all 0.3s ease;
    }
    .mode-checkout .btn:hover {
      background: var(--gold);
      color: var(--black);
      box-shadow: 0 0 15px rgba(255,204,0,0.5);
    }
    .mode-checkout table {
      color: var(--text);
    }
    .mode-checkout .totals {
      border-top: 1px solid rgba(0,191,255,0.5);
    }
    .mode-checkout .product .img {
      width: 80%;
      max-width: 110px;
      margin: 0 auto;
      aspect-ratio: 1/1;
    }

    /* âš™ï¸ ADMIN/REPORTS MODE - Techy dashboard feel */
    .mode-admin {
      background: radial-gradient(circle at top right, var(--blue-800) 0%, var(--blue-900) 70%) !important;
      color: var(--teal) !important;
    }
    .mode-admin header {
      background: linear-gradient(180deg, rgba(17,34,64,0.9), rgba(10,25,47,0.8));
      border-bottom: 2px solid var(--teal);
    }
    .mode-admin .title {
      color: var(--teal) !important;
      text-shadow: 0 0 10px rgba(0,191,255,0.5);
    }
    .mode-admin section {
      background: rgba(17,34,64,0.8);
      border: 1px solid rgba(0,191,255,0.5);
      box-shadow: 0 0 20px rgba(0,191,255,0.1);
    }
    .mode-admin .card-h {
      background: rgba(17,34,64,0.8);
      border-bottom: 1px solid rgba(0,191,255,0.3);
    }
    .mode-admin .card-h h2 {
      background: rgba(0,191,255,0.2);
      color: var(--teal);
      text-shadow: 0 0 5px rgba(0,191,255,0.3);
    }
    .mode-admin .product {
      background: rgba(17,34,64,0.6);
      border: 1px solid rgba(0,191,255,0.3);
      transition: all 0.3s ease;
    }
    .mode-admin .product:hover {
      box-shadow: 0 0 15px rgba(0,191,255,0.3);
      transform: translateY(-2px);
    }
    .mode-admin .btn {
      background: transparent;
      border: 1px solid var(--teal);
      color: var(--teal);
    }
    .mode-admin .btn:hover {
      background: var(--teal);
      color: var(--blue-900);
      box-shadow: 0 0 10px var(--teal);
    }
    .mode-admin table {
      color: var(--text);
    }
    .mode-admin thead th {
      background: rgba(0,191,255,0.2);
      color: var(--teal);
    }
    
    /* Mode Transition Animations */
    .mode-transition {
      animation: modeSwitch 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    @keyframes modeSwitch {
      0% { opacity: 0.8; transform: scale(0.98); }
      50% { opacity: 0.9; transform: scale(1.01); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    /* Floating Totals Bar for Sales Mode */
    .floating-totals {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      background: linear-gradient(135deg, var(--teal) 0%, #0099cc 100%);
      border: 3px solid var(--blue-900);
      border-radius: 25px;
      padding: 15px 25px;
      box-shadow: 0 10px 30px rgba(0,191,255,0.3);
      animation: floatIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .floating-total-content {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .floating-label {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--blue-900);
    }
    .floating-value {
      font-size: 1.8rem;
      font-weight: 900;
      color: var(--blue-900);
      text-shadow: 0 1px 2px rgba(255,255,255,0.3);
    }
    .floating-btn {
      background: var(--blue-900);
      color: var(--teal);
      border: none;
      border-radius: 15px;
      padding: 12px 20px;
      font-weight: 800;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .floating-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(0,191,255,0.4);
    }
    @keyframes floatIn {
      from { opacity: 0; transform: translate(-50%, 100px); }
      to { opacity: 1; transform: translate(-50%, 0); }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    /* Mode-specific UI Enhancements */
    /* REMOVED .mode-overlay CSS - not strictly necessary but cleaner to delete the element */
    
    /* Sales Mode: Show floating totals */
    .mode-sales .floating-totals {
      display: block !important;
    }
    
    /* Checkout Mode: Ensure the product section is not dimmed/clickable but the float bar is gone */
    .mode-checkout .floating-totals {
      display: none !important;
    }
    /* Removed .mode-checkout .mode-overlay CSS as element is gone */
    
    /* Admin Mode: Ensure float bar is gone */
    .mode-admin .floating-totals {
      display: none !important;
    }
    /* Removed .mode-admin .mode-overlay CSS as element is gone */
    
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:linear-gradient(180deg,rgba(17,34,64,.35),rgba(17,34,64,.15));backdrop-filter:blur(6px);position:sticky;top:0;z-index:9;box-shadow:var(--shadow)}
    header .brand{display:flex;align-items:center;gap:12px}
    header img{height:40px;width:auto;border-radius:10px}
    header .title{font-weight:800;letter-spacing:.3px}
    header .timebox{text-align:right;font-variant-numeric:tabular-nums}
    header .time{font-size:1.1rem} header .date{font-size:.9rem;opacity:.85}

    main{display:grid;grid-template-columns:1.15fr .85fr;gap:16px;padding:12px;height:calc(100vh - 70px)}
    section{background:rgba(17,34,64,.05);border:1px solid rgba(0,191,255,.08);border-radius:var(--radius);box-shadow:var(--shadow);display:flex;flex-direction:column;overflow:hidden}
    .card-h{padding:10px 16px;display:flex;align-items:center;justify-content:space-between;background:rgba(17,34,64,.5);backdrop-filter:blur(4px)}
    .card-h h2{margin:0;font-size:1.05rem;color:var(--teal);background:rgba(17,34,64,.5);padding:4px 8px;border-radius:6px}
    .card-h > div{background:rgba(17,34,64,.5);padding:4px 8px;border-radius:6px}
    .card-b{padding:14px 16px;flex:1;overflow:auto;height:100%}

    .search-row{display:flex;gap:10px;margin-bottom:14px}
    .input{display:flex;align-items:center;gap:10px;padding:12px 14px;border-radius:14px;background:rgba(17,34,64,.08);border:1px solid rgba(0,191,255,.1);flex:1}
    .input input{flex:1;border:none;background:transparent;color:var(--text);font-size:1rem;outline:none}
    .btn{border:none;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer;color:var(--blue-900);background:var(--teal);transition:all .2s ease}
    .btn.ghost{background:rgba(17,34,64,.08);color:var(--text);font-weight:normal}
    .btn.ghost:hover{background:rgba(17,34,64,.2);box-shadow:0 0 10px rgba(0,191,255,0.2);}
    .btn.ok{background:#00ff7f;color:#000} /* SpringGreen */
    .btn.ok:hover{background:#00e673; box-shadow: 0 0 20px rgba(0, 255, 127, 0.8);}
    .btn.warn{background:#ffa500;color:#000} /* Orange */
    .btn.warn:hover{background:#e69500; box-shadow: 0 0 20px rgba(255, 165, 0, 0.8);}
    .btn.danger{background:#ff4747;color:#000; transition: all 0.2s ease;}
    .btn.danger:hover{box-shadow: 0 0 20px rgba(255, 71, 71, 0.8);}
    .card-h .btn.ghost{background:rgba(17,34,64,.5);border:1px solid rgba(0,191,255,.15)}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;height:calc(100% - 60px);overflow-y:auto}
    .product{background:rgba(17,34,64,.06);border:1px solid rgba(0,191,255,.08);border-radius:14px;padding:10px;display:flex;flex-direction:column;gap:8px;height:fit-content}
    .product .img{width:100%;aspect-ratio:1/1;border-radius:10px;background:rgba(17,34,64,.35) url('assets/bg-placeholder.jpg') center/cover no-repeat}
    .product .name{font-weight:700;text-shadow:1px 1px 3px rgba(0,0,0,.8)} .product .price{opacity:.85;text-shadow:1px 1px 3px rgba(0,0,0,.8)}

    table{width:100%;border-collapse:collapse;font-variant-numeric:tabular-nums;margin-bottom:auto}
    th,td{padding:8px 6px;text-align:left}
    thead th{color:var(--teal);border-bottom:1px solid rgba(0,191,255,.2);background:rgba(17,34,64,.5);padding:6px 8px;border-radius:6px}
    tbody tr:nth-child(even){background:rgba(17,34,64,.05)}
    .right{text-align:right}

    .totals{margin-top:auto;border-top:1px solid rgba(0,191,255,.12);padding-top:12px;display:grid;gap:6px}
    .line{display:flex;justify-content:space-between}
    .value{font-weight:800}

    .actions{display:flex;gap:10px;margin-top:14px} .actions .btn{flex:1}
    footer{text-align:center;opacity:.7;padding:10px}
    
    /* Category Filters */
    .category-filters{display:flex;gap:8px;flex-wrap:wrap}
    .category-filters .btn{padding:8px 14px;font-size:.9rem}
    .category-filters .btn.active{background:var(--teal);color:var(--blue-900)}
    
    /* Mode-specific layout styles */
    .mode-sales main{grid-template-columns:1.65fr .35fr}
    .mode-sales section:first-child{display:flex}
    .mode-sales section:last-child{display:flex}
    
    .mode-checkout main{grid-template-columns:.35fr 1.65fr}
    /* Removed pointer-events:none and restored opacity to 1 as the visual overlay is gone */
    .mode-checkout section:first-child{display:flex;opacity:1;} 
    .mode-checkout section:last-child{display:flex}
    
    .mode-admin main{grid-template-columns:1.2fr .8fr}
    .mode-admin section:first-child{display:flex;transition:opacity .3s ease}
    .mode-admin section:last-child{display:flex}
    /* Removed opacity:0.3 on scanning as the visual overlay is gone */
    .mode-admin.scanning section:first-child{pointer-events:none}
    
    /* Landscape & Responsive Layout */
    @media (min-width:1100px) and (orientation:landscape){
      main{gap:14px;padding:10px;height:calc(100vh - 90px)}
      .card-h{padding:8px 14px}
      .card-b{padding:12px 14px}
      .grid{grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:10px}
      
      .mode-sales main{grid-template-columns:65% 35%}
      .mode-checkout main{grid-template-columns:35% 65%}
      .mode-admin main{grid-template-columns:60% 40%}
    }
    @media (max-width:1100px){ 
      main{grid-template-columns:1fr;height:auto;min-height:calc(100vh - 90px)} 
      section{min-height:50vh}
      
      .mode-sales main{grid-template-rows:60% 40%}
      .mode-checkout main{grid-template-rows:40% 60%}
      /* Removed opacity:0.5 on mobile checkout as the visual overlay is gone */
      .mode-checkout section:first-child{display:flex;opacity:1;}
      .mode-admin main{grid-template-rows:55% 45%}
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="assets/logo-placeholder.png" alt="Logo">
      <div class="title">POS â€” Register</div>
    </div>
    <div class="timebox">
      <div id="modeIndicator" style="font-size:.9rem;margin-bottom:4px;opacity:.9;">ðŸŸ¢ Mode: <span id="modeText">Sales</span></div>
      <div class="header-actions" style="display:flex;gap:10px;align-items:center;">
        <button id="btnMode" type="button" class="btn ghost" style="padding:8px 14px;font-size:.9rem;">Mode</button>
        <div>
          <div id="time" class="time">00:00</div>
          <div id="date" class="date">Wed, Jan 1</div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section>
      <div class="card-h">
        <h2>Products</h2>
        <button type="button" class="btn ghost">Scan</button>
      </div>
      <div class="card-b">
        <div class="search-row">
          <div class="input">
            <img src="assets/icons/scan.svg" alt="" width="18" height="18" />
            <input id="searchInput" type="search" placeholder="Search or scan barcodeâ€¦" />
          </div>
          <button id="btnFilters" type="button" class="btn ghost">Filters</button>
        </div>
        <div id="categoryFilters" class="category-filters" style="display:none;margin-bottom:12px;"></div>
        <div id="productGrid" class="grid">
          <div class="product">
            <div class="img"></div>
            <div class="name">Sample Item</div>
            <div class="price">$0.00</div>
            <button type="button" class="btn ghost">Add</button>
          </div>
          <div class="product">
            <div class="img"></div>
            <div class="name">Sample Produce (lb)</div>
            <div class="price">$0.00 / lb</div>
            <button type="button" class="btn ghost">Add</button>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div class="card-h">
        <h2>Cart</h2>
        <div id="cartCount" style="opacity:.85">0 items</div>
      </div>
      <div class="card-b">
        <table aria-label="Cart items">
          <thead>
            <tr>
              <th>Item</th>
              <th>Qty</th>
              <th class="right">Price</th>
              <th class="right">Total</th>
            </tr>
          </thead>
          <tbody id="cartBody">
            <tr>
              <td>â€”</td>
              <td>1</td>
              <td class="right">$0.00</td>
              <td class="right">$0.00</td>
            </tr>
          </tbody>
        </table>

        <div class="totals" aria-live="polite">
          <div class="line"><span>Subtotal</span><span id="subtotal" class="value">$0.00</span></div>
          <div class="line"><span>Tax</span><span id="tax" class="value">$0.00</span></div>
          <div class="line"><span>Total</span><span id="grandTotal" class="value">$0.00</span></div>
        </div>

        <div class="actions">
          <button type="button" class="btn danger">Clear</button>
          <button type="button" class="btn ghost">Undo Last</button>
          <button type="button" class="btn ok">Cash</button>
          <button type="button" class="btn warn">Card</button>
        </div>
      </div>
    </section>
  </main>

  <div id="floatingTotals" class="floating-totals">
    <div class="floating-total-content">
      <span class="floating-label">Total:</span>
      <span id="floatingTotal" class="floating-value">$0.00</span>
      <button id="floatingCheckout" type="button" class="floating-btn">Checkout</button>
    </div>
  </div>

  <script src="p-ho-pos.js"></script>
</body>
</html>
